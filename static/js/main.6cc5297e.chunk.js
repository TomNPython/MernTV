(this["webpackJsonpmern-tv"]=this["webpackJsonpmern-tv"]||[]).push([[0],{162:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(33),l=a.n(s),i=(a(82),a(19)),o=a(23),c=(a(83),a(11)),u=a(12),m=a(14),h=a(13),d=a(15),p=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg"},r.a.createElement(i.b,{to:"/",className:"navbar-brand"},"Series Tracker"),r.a.createElement("div",{className:"collpase navbar-collapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"navbar-item"},r.a.createElement(i.b,{to:"/",className:"nav-link"},"TV Series")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(i.b,{to:"/create",className:"nav-link"},"Create Series Entry")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(i.b,{to:"/user",className:"nav-link"},"Create User")))))}}]),t}(n.Component),b=a(5),E=a(7),v=a.n(E),g=(a(68),function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("strong",null,e.series.username)),r.a.createElement("td",null,e.series.title),r.a.createElement("td",null,e.series.description.substring(0,50),e.series.description.length>50?"...":"",r.a.createElement(i.b,{to:"/series/"+e.series._id},"(See More)")),r.a.createElement("td",{style:{color:"rgb(182, 132, 56)",fontWeight:"bold"}},"*".repeat(e.series.stars)),r.a.createElement("td",null,e.series.date.split("T")[0]),r.a.createElement("td",null,r.a.createElement(i.b,{to:"/edit/"+e.series._id},"edit")," | ",r.a.createElement("a",{href:"/",onClick:function(){e.deleteSeries(e.series._id)}},"delete")))}),f=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).deleteSeries=a.deleteSeries.bind(Object(b.a)(a)),a.state={series:[]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get("http://localhost:3000/series").then((function(t){e.setState({series:t.data})})).catch((function(e){return console.log(e)}))}},{key:"deleteSeries",value:function(e){v.a.delete("http://localhost:3000/series/"+e).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)})),this.setState({series:this.state.series.filter((function(t){return t._id!==e}))})}},{key:"seriesList",value:function(){var e=this;return this.state.series.map((function(t){return r.a.createElement(g,{series:t,deleteSeries:e.deleteSeries,key:t.id})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Series Entries:"),r.a.createElement("table",{className:"table table-striped table-bordered"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Stars"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,this.seriesList())))}}]),t}(n.Component),C=a(34),S=a.n(C),y=(a(69),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).onChangeUsername=a.onChangeUsername.bind(Object(b.a)(a)),a.onChangeTitle=a.onChangeTitle.bind(Object(b.a)(a)),a.onChangeDescription=a.onChangeDescription.bind(Object(b.a)(a)),a.onChangeStars=a.onChangeStars.bind(Object(b.a)(a)),a.onChangeDate=a.onChangeDate.bind(Object(b.a)(a)),a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a.state={username:"",title:"",description:"",stars:0,date:new Date,users:[]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get("http://localhost:3000/series/"+this.props.match.params.id).then((function(t){e.setState({username:t.data.username,title:t.data.title,description:t.data.description,stars:t.data.stars,date:new Date(t.data.date)}),console.log(e.state.title),console.log(e.state.stars)})).catch((function(e){return console.log(e)})),v.a.get("http://localhost:3000/users").then((function(t){e.setState({users:t.data.map((function(e){return e.username}))})})).catch((function(e){return console.log(e)}))}},{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onChangeStars",value:function(e){this.setState({stars:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,title:this.state.title,description:this.state.description,stars:this.state.stars,date:this.state.date};console.log(t),v.a.post("http://localhost:3000/series/update/"+this.props.match.params.id,t).then((function(e){return console.log(e.data)})),window.location="/"}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Edit Series Entry"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username: "),r.a.createElement("select",{ref:"userInput",className:"form-control",value:this.state.username,onChange:this.onChangeUsername},this.state.users.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.title,onChange:this.onChangeTitle})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description: "),r.a.createElement("textarea",{rows:"5",required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Stars: "),r.a.createElement("select",{className:"form-control",value:this.state.stars,onChange:this.onChangeStars},r.a.createElement("option",{value:"0"},"0"),r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date: "),r.a.createElement(S.a,{selected:this.state.date,onChange:this.onChangeDate})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Edit Series Entry",className:"btn btn-primary"}))))}}]),t}(n.Component)),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={username:"",title:"",description:"",stars:0,date:new Date,users:[]},a.onChangeUsername=a.onChangeUsername.bind(Object(b.a)(a)),a.onChangeTitle=a.onChangeTitle.bind(Object(b.a)(a)),a.onChangeDescription=a.onChangeDescription.bind(Object(b.a)(a)),a.onChangeStars=a.onChangeStars.bind(Object(b.a)(a)),a.onChangeDate=a.onChangeDate.bind(Object(b.a)(a)),a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get("http://localhost:3000/users").then((function(t){t.data.length>0&&e.setState({users:t.data.map((function(e){return e.username})),username:t.data[0].username})})).catch((function(e){return console.log(e)}))}},{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onChangeStars",value:function(e){this.setState({stars:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,title:this.state.title,description:this.state.description,stars:this.state.stars,date:this.state.date};console.log(t),v.a.post("http://localhost:3000/series/add",t).then((function(e){return console.log(e.data)})),window.location="/"}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Create New Series Entry"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username:"),r.a.createElement("select",{ref:"userInput",required:!0,className:"form-control",value:this.state.username,onChange:this.onChangeUsername},this.state.users.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.title,onChange:this.onChangeTitle})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{rows:"5",className:"form-control",value:this.state.description,onChange:this.onChangeDescription})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Stars:"),r.a.createElement("select",{className:"form-control",onChange:this.onChangeStars},r.a.createElement("option",{value:"0"},"0"),r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date:"),r.a.createElement(S.a,{selected:this.state.date,onChange:this.onChangeDate})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Create Series Entry",className:"btn btn-primary"}))))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).onChangeUsername=a.onChangeUsername.bind(Object(b.a)(a)),a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a.state={username:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username};console.log(a),v.a.post("http://localhost:3000/users/add",a).then((function(e){console.log(e.data),t.setState({success:"User Created!",errors:""})})).catch((function(e){console.log(e),t.setState({errors:"Username must be unique & at least 3 characters long.",success:""})})),this.setState({username:""})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Create New User"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.username,onChange:this.onChangeUsername})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Create User",className:"btn btn-primary"}))),r.a.createElement("p",{className:"badge badge-danger"},this.state.errors),r.a.createElement("p",{className:"badge badge-success"},this.state.success))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={username:""},console.log(a.state.username),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get("http://localhost:3000/series/"+this.props.match.params.id).then((function(t){e.setState({username:t.data.username,title:t.data.title,description:t.data.description,stars:t.data.stars,date:new Date(t.data.date)})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"series-review"},r.a.createElement("label",null,"Review Left By:"),r.a.createElement("h4",null,this.state.username),r.a.createElement("label",null,"Title:"),r.a.createElement("h4",null,this.state.title),r.a.createElement("label",null,"Description:"),r.a.createElement("h4",null,this.state.description),r.a.createElement("label",null,"Star Rating:"),r.a.createElement("h4",null,this.state.stars," stars"))}}]),t}(n.Component);var k=function(){return r.a.createElement(i.a,null,r.a.createElement(p,null),r.a.createElement("br",null),r.a.createElement(o.a,{path:"/",exact:!0,component:f}),r.a.createElement(o.a,{path:"/edit/:id",component:y}),r.a.createElement(o.a,{path:"/create",component:j}),r.a.createElement(o.a,{path:"/user",component:O}),r.a.createElement(o.a,{path:"/series/:id",component:N}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},68:function(e,t,a){},77:function(e,t,a){e.exports=a(162)},82:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.6cc5297e.chunk.js.map